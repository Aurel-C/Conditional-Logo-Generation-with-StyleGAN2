<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Générateur d'icones</title>
    <style>
        button{
            width:100%;
        }
    </style>
    <script>
    function random_normal() {
        var u = 0, v = 0;
        while(u === 0) u = Math.random();
        while(v === 0) v = Math.random();
        return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );
    }
    function randomise(normal){
        for (var i = 0; i < {{nSliders}}; i++) {
            if(normal){
            var val = Math.round(random_normal()*10)/10;
            }
            else{
            var val = Math.round((Math.random()*4-2)*10)/10;
            }
            document.getElementById("slider"+i).value=val;
            document.getElementById("value"+i).value=val;
        }
    }
    function to_zero(){
        for (var i = 0; i < {{nSliders}}; i++) {
            document.getElementById("slider"+i).value=0;
            document.getElementById("value"+i).value=0;
        }
    }
    </script>
</head>
<body style="text-align: center; color:white; background-color:#333; font-family:sans-serif;">
<h1>Génerateur d'icones</h1>
<div class="image_container" style="float:right; margin:12% 30% 0 0;">
    <h4>{{size}}x{{size}}</h4>
    <img src="static/image.jpg" width="{{size}}px" height="{{size}}px">
    <h4>Zoom x2</h4>
    <img src="static/image2.jpg" width="{{size*2}}px" height="{{size*2}}px">
    <h4>Zoom x4</h4>
    <img src="static/image4.jpg" width="{{size*4}}px" height="{{size*4}}px">
</div>
<form method="POST" style="width:200px; margin:0 0 0 30%; float:left; background-color:#444; padding-bottom:10px">
    <h4>Sliders:</h4>
    <div class="slider_container" style="height:700px; overflow:auto;margin-bottom:20px ">
        {% for n in range(nSliders)%}
        {{"Slider "~(n+1)~": "}}
        <output id={{"value"~n}} for={{"slider"~n}}>{{val["slider"~n]}}</output>
        <input min="-2" max="2" step="0.1" id={{"slider"~n}} name={{"slider"~n}} type="range" value={{val["slider"~n]}} oninput="{{"value"~n}}.value={{"slider"~n}}.value"><br>
        {% endfor %}
    </div>
    <table style="margin-left:auto;margin-right:auto;">
        <tr>
            <td colspan="2">Random:</td>
        </tr>
        <tr>
            <td><button onclick="randomise(true)">Normal</button></td>
            <td><button onclick="randomise(false)">Uniform</button></td>

        </tr>
        <tr style="height:5px"></tr>
        <tr>
            <td><button onclick="to_zero()">Reset</button></td>
            <td><input type="submit" value="Générer"/></td>
        </tr>
    </table>
</form>
</body>
</html>